@model LicenseManagement.Web.ViewComponents.PaginationViewModel

@if (Model.TotalPages > 1)
{
    <nav class="pagination" aria-label="Pagination">
        <div class="pagination-info">
            Showing <strong>@Model.StartItem</strong> to <strong>@Model.EndItem</strong> of <strong>@Model.TotalItems</strong> results
        </div>
        <ul class="pagination-list">
            <!-- Previous Button -->
            <li class="pagination-item @(Model.HasPreviousPage ? "" : "disabled")">
                @if (Model.HasPreviousPage)
                {
                    <a href="@Model.GetPageUrl(Model.CurrentPage - 1)" class="pagination-link" aria-label="Previous page">
                        <i class="fas fa-chevron-left"></i>
                    </a>
                }
                else
                {
                    <span class="pagination-link" aria-disabled="true">
                        <i class="fas fa-chevron-left"></i>
                    </span>
                }
            </li>

            @{
                // Calculate page range to show
                var startPage = Math.Max(1, Model.CurrentPage - 2);
                var endPage = Math.Min(Model.TotalPages, Model.CurrentPage + 2);

                // Always show first page
                if (startPage > 1)
                {
                    <li class="pagination-item">
                        <a href="@Model.GetPageUrl(1)" class="pagination-link">1</a>
                    </li>
                    if (startPage > 2)
                    {
                        <li class="pagination-item disabled">
                            <span class="pagination-link">...</span>
                        </li>
                    }
                }

                // Page numbers
                for (var i = startPage; i <= endPage; i++)
                {
                    <li class="pagination-item @(i == Model.CurrentPage ? "active" : "")">
                        @if (i == Model.CurrentPage)
                        {
                            <span class="pagination-link" aria-current="page">@i</span>
                        }
                        else
                        {
                            <a href="@Model.GetPageUrl(i)" class="pagination-link">@i</a>
                        }
                    </li>
                }

                // Always show last page
                if (endPage < Model.TotalPages)
                {
                    if (endPage < Model.TotalPages - 1)
                    {
                        <li class="pagination-item disabled">
                            <span class="pagination-link">...</span>
                        </li>
                    }
                    <li class="pagination-item">
                        <a href="@Model.GetPageUrl(Model.TotalPages)" class="pagination-link">@Model.TotalPages</a>
                    </li>
                }
            }

            <!-- Next Button -->
            <li class="pagination-item @(Model.HasNextPage ? "" : "disabled")">
                @if (Model.HasNextPage)
                {
                    <a href="@Model.GetPageUrl(Model.CurrentPage + 1)" class="pagination-link" aria-label="Next page">
                        <i class="fas fa-chevron-right"></i>
                    </a>
                }
                else
                {
                    <span class="pagination-link" aria-disabled="true">
                        <i class="fas fa-chevron-right"></i>
                    </span>
                }
            </li>
        </ul>
    </nav>
}
